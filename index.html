<!DOCTYPE html>

<head>

	<title>Testing</title>

	<script> // Check URL, load jQuery or Zepto
		var script=document.createElement("script");0>window.location.href.indexOf("zepto")?
		script.src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js":
		script.src="http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0/zepto.js";
		document.write(script.outerHTML);
	</script>

	<style>

		body {
			width: 400px;
			max-width: 100%;
			margin: 0 auto;
			padding-bottom: 100px;
		}
		pre {
			tab-size: 4;
			margin-left: -64px;
		}

		.noUi-target {
			margin: 40px;
		}
		.noUi-vertical {
			height: 150px;
		}

		#log {
			background: #eee;
			position: fixed;
			left:0;
			word-wrap: break-word;
			right: 0;
			bottom: 0;
			height: 80px;
			z-index: 15;
			border-top: 1px solid #333;
		}

	</style>

	<link href="jquery.nouislider.css" rel="stylesheet">
	<script src="poc.js"></script>

	<script>
		var Link = $.noUiSlider.Link;
		$(function(){
			$('script[pre]').after(function(){
				return $('<pre/>').text( this.innerHTML );
			});
			$('form').change(function(){
				$("#log").html( $(this).serialize() );
			});
		});
	</script>

</head>

<body>

	<form>
		<div class="slider1" id="slider1a"></div>
		<div class="slider1" id="slider1b"></div>
		<div class="slider1" id="slider1c"></div>
	</form>

	<script pre>

		$(".slider1").noUiSlider({
			 range: [ 0, 100 ]
			,start: [ 20, 80 ]
			,serialization: {
				 lower: [ new Link('lower1') ]
				,upper: [ new Link('lower2') ]
			}
		});

	</script>

	<hr>

	<div class="slider2" id="slider2a"></div>
	<div class="slider2" id="slider2b"></div>

	<span id="slider2span"></span>

	<script pre>

		$("#slider2a, #slider2b").noUiSlider({
			 range: [ -20, 20 ]
			,start: [ 0, 10 ]
			,behaviour: 'drag'
			,connect: true
			,serialization: {
				lower: [ new Link( $('#slider2span'), false, {
							 mark: ','
							,decimals: 1
							,thousand: '.'
							,encoder: function( decoded ){
								return decoded * 10000;
							}
							,decoder: function( encoded ){
								return encoded / 10000;
							}
						}) ]
			}
		});

	</script>

	<hr>

	<div class="slider3" id="slider3"></div>

	<span id="slider3span"></span>

	<script pre>

		$("#slider3").noUiSlider({
			 range: [ -10, 0 ]
			,start: [ 0, 0 ]
			,handles: 1
			,behaviour: 'extend-tap'
			,connect: 'lower'
			,serialization: {
				 lower: [	new Link(function( value ){
								$("#slider3span").html( value );
							})
						]
			}
		});

	</script>

	<hr>

	<style>

		.slider4 {
			margin: 80px;
		}


		.tooltip {
			display: none;
			position: absolute;
			border: 1px solid #D9D9D9;
			font: 400 12px/12px Arial;
			border-radius: 3px;
			top: 40px;
			padding: 5px;
			left: 17px;
		}
		.tooltip.top {
			top: auto;
			bottom: 40px;
		}
		.noUi-active .tooltip {
			display: block;
		}

	</style>

	<div class="slider4" id="slider4"></div>

	<label>Will change slider: <input id="slider4inputlower"></label>
	<br>
	<label>Will NOT change slider: <input id="slider4inputupper"></label>
	<br>
	<label>Value get on slide by .val(): <span id="slider4span"></span></label>

	<script pre>

		function placeTooltip(value){
			$(this).text(value).css('marginLeft', '-' + 
				($(this).width()/2) + 'px');
		}

		$("#slider4").noUiSlider({
			 range: [ 0.001, 0.003 ]
			,start: [ 0, 0.002 ]
			,handles: 2
			,connect: true
			,behaviour: 'drag'
			,serialization: {

				 lower: [	new Link( '-tooltip-<div class="tooltip"/>', 
								placeTooltip, {
									 decimals: 6
									,prefix: '#'
									,negativeBefore: '!'
									,negative: ''
								}),
							new Link( $("#slider4inputlower"), false, {
								 mark: '.'
								,thousand: ','
								,prefix: '$'
								,postfix: ',-'
								,decimals: 3
								,negativeBefore: '-'
								,negative: ''
								,encoder: function( a ){
									return a * 1E7;
								}
								,decoder: function( a ){
									return a / 1E7;
								}
							}) ]

				,upper: [	new Link( $("#slider4inputupper"), 'val' ),
							new Link( '-tooltip-<div class="tooltip top"/>', 
								placeTooltip ) ]

				,format: {
					decimals: 5
				}
			}
		}).on('slide', function(){
			$('#slider4span').html(
				JSON.stringify( $(this).val() )
			);
		});

		$("#slider4").noUiSlider({
			 range: [ -0.002, 0.003 ]
			,start: [ 0.0011, 0.0025 ]
		}, true);

	</script>

	<hr>


	<div class="slider5" id="slider5a"></div>
	<span id="slider5aspan1a"></span>
	<span id="slider5aspan1b"></span>
	<br>
	<span id="slider5aspan2a"></span>
	<span id="slider5aspan2b"></span>

	<div class="slider5" id="slider5b"></div>
	<span id="slider5bspan1a"></span>
	<span id="slider5bspan1b"></span>
	<br>
	<span id="slider5bspan2a"></span>
	<span id="slider5bspan2b"></span>

	<script>

		function writeLeft ( value, handle, slider ) {
			$(this).text(handle.parent()[0].style.left);
		}

	</script>

	<script pre>

		$("#slider5a").noUiSlider({
			 range: [ 0, 10000 ]
			,start: [ 500, 4000 ]
			,stepping: {
				  '0%': [ 'x', 100 ]
				,'10%': [ 500, 500 ]
				,'50%': [ 4000, 1000 ]
			}
			,serialization: {
				 lower: [
					 new Link ( $('#slider5aspan1a') )
					,new Link ( $('#slider5aspan1b'), writeLeft )
				 ]
				,upper: [
					 new Link ( $('#slider5aspan2a') )
					,new Link ( $('#slider5aspan2b'), writeLeft )
				 ]
			}
		});

	</script>

	<script>

		$("#slider5b").noUiSlider({
			 range: [ 0, 10000 ]
			,start: [ 500, 4000 ]
			,step: true
			,stepping: {
				  '0%': [    0, 100 ]
				,'10%': [ 1000, 500 ]
				,'50%': [ 5000 ]
			}
			,serialization: {
				 lower: [
					 new Link ( $('#slider5bspan1a') )
					,new Link ( $('#slider5bspan1b'), writeLeft )
				 ]
				,upper: [
					 new Link ( $('#slider5bspan2a') )
					,new Link ( $('#slider5bspan2b'), writeLeft )
				 ]
			}
		});

	</script>

	<hr>

	<div class="slider6" id="slider6"></div>
	<span id="slider6span"></span>

	<script pre>

		$("#slider6").noUiSlider({
			 range: [0, 100]
			,start: [20, 80]
			,step: 10
			,handles: 1
			,connect: 'lower'
			,serialization: {
				 lower: [ new Link($("#slider6span")) ]
			}
		});

	</script>

	<div id="log"><div>

</body>
