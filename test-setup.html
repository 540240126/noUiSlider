<!DOCTYPE html>

	<title>Testing</title>

	<link href="jquery.nouislider.css" rel="stylesheet">

	<style>

		section {
			padding: 40px;
		}
		[data-side] {
			width: 80px;
			display: inline-block;
			vertical-align: top;
		}
		[data-side] .noUi-target {
			height: 200px;
		}
		
		input {
			width: 70px;
		}
		input:first-of-type {
			margin-top: 40px;
		}
		select {
			width: 50px;
			margin: 40px 0;
		}

	</style>

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="jquery.nouislider.js"></script>

	<script>

		window.Rapport = function( name ){
			return !console ? function(){} : function() {
				console.log($(this).attr('id'), name, 
					name === 'slide' ? '...' : 
					$(this).is('form') ? $(this).serialize() : $(this).val()
				);
			}
		}

		var Count = 0;

		function Create( options, vertical, inner ) {

			Count++;
			var s = $('<section/>').appendTo($('body')),
				id = 'slider' + Count;

			if ( vertical || options.orientation === "vertical" ) {
				s.attr('data-side','');
			}

			window[id] = $('<div/>').attr('id', id);

			if ( typeof options === "string" && inner ) {
				$(options).appendTo(s).append(window[id]);
			} else if ( typeof options === "string" ) {
				window[id].prependTo(s.append(options));
			} else {
				window[id].appendTo(s).noUiSlider(options);
			}

			return window[id];
		}

	</script>

	<body>
		<script>

			Create({
				 range: [20, 50]
				,start: [20, 50]
				,handles: 1
				,set: Rapport('set')
				,slide: Rapport('slide')
			});

			Create({
				 range: [-20, 90]
				,start: [0, 20]
				,handles: 2
				,connect: true
				,set: Rapport('set')
				,slide: Rapport('slide')
			});

			Create({
				 range: [-20, 90]
				,start: [0, 20]
				,handles: 2
				,margin: 10
				,connect: true
				,set: Rapport('set')
				,slide: Rapport('slide')
			});

			Create({
				 range: [-30, -10]
				,start: [-30, 0]
				,handles: 2
				,orientation: "vertical"
				,connect: true
				,set: Rapport('set')
				,slide: Rapport('slide')
			});

			Create({
				 range: [0, 10]
				,start: [0, 5]
				,handles: 2
				,step: 2
				,serialization: {
					 to: false
					,mark: ','
					,resolution: 0.0001
				}
				,orientation: "vertical"
				,connect: true
				,set: Rapport('set')
				,slide: Rapport('slide')
			});

			Create({
				 range: [-12, 67]
				,start: 11
				,handles: 1
				,step: 2
				,serialization: {
					 to: false
					,mark: '.'
					,resolution: 0.0001
				}
				,set: Rapport('set')
				,orientation: "vertical"
				,connect: 'lower'
			}).val(100);

			Create('<input id="field1">\
					<input id="field2">\
					<input id="field3">', true)
			.noUiSlider({
				 range: [-1000, 1500]
				,start: [0, 2000]
				,handles: 2
				,step: 2
				,direction: 'rtl'
				,serialization: {
					 to: [ $('#field1, #field2'), $('#field3') ]
					,mark: '.'
					,resolution: 0.0001
				}
				,set: Rapport('set')
				,orientation: "vertical"
				,connect: true
			});

			Create('<select id="select">\
						<option value="0">0</option>\
						<option value="1">1</option>\
						<option value="2">2</option>\
						<option value="3">3</option>\
						<option value="4">4</option>\
						<option value="5">5</option>\
					</select>', true)
			.noUiSlider({
				 range: [0, 5]
				,start: [10, 10]
				,margin: 3
				,step: 1
				,handles: 1
				,set: Rapport('set')
				,orientation: "vertical"
				,serialization: {
					 mark: ','
					,resolution: 1
					,to: [$('#select')]
				}
			});

			Create({
				 range: [0, 10]
				,start: [10,10]
				,handles: 2
				,direction: 'rtl'
				,serialization: {
					 to: false
					,mark: '.'
					,resolution: 0.0001
				}
				,connect: true
			});

			Create('<input id="low1"><input id="high1">')
			.noUiSlider({
				 range: [10, 20]
				,start: [19.9, 20]
				,handles: 2
				,serialization: {
					to: [ $("#low1"), $("#high1") ]
				}
			});

			Create('<input id="low2"><input id="high2">')
			.noUiSlider({
				 range: [10, 20]
				,start: [10, 10.1]
				,handles: 2
				,direction: 'rtl'
				,serialization: {
					to: [ $("#low2"), $("#high2") ]
				}
			});

			Create({
				 range: [10, 20]
				,start: [10, 10]
				,margin: 3
				,handles: 2
				,direction: 'rtl'
			});

			Create('<form id="form1"></form>', true, true)
			.noUiSlider({
				 range: [-3, -2]
				,start: [10, 10]
				,handles: 2
				,orientation: "vertical"
				,serialization: {
					to: ['lower', 'upper']
				}
				,direction: 'rtl'
			}).change(Rapport('change')).parent().change(Rapport('change'));

			Create('<form id="form2"></form>', true, true)
			.noUiSlider({
				 range: [5, 50]
				,start: [10, 10]
				,handles: 2
				,orientation: "vertical"
				,serialization: {
					to: ['lower', 'upper']
				}
			}).change(Rapport('change')).parent().change(Rapport('change'));

		</script>

	</body>
